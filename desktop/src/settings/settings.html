<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'self'; style-src 'self'; connect-src 'none';">
  <title>Voice2Code Settings</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>
  <div class="container">
    <h1>Voice2Code Settings</h1>

    <!-- Endpoint Section -->
    <section class="section">
      <h2>Endpoint</h2>
      <div class="field">
        <label for="endpoint-url">URL</label>
        <input type="text" id="endpoint-url" placeholder="http://localhost:8000/v1/audio/transcriptions">
      </div>
      <div class="field">
        <label for="endpoint-model">Model</label>
        <input type="text" id="endpoint-model" placeholder="whisper-large-v3">
      </div>
      <div class="field-row">
        <div class="field">
          <label for="endpoint-language">Language</label>
          <input type="text" id="endpoint-language" maxlength="5" placeholder="en">
        </div>
        <div class="field">
          <label for="endpoint-timeout">Timeout (ms)</label>
          <input type="number" id="endpoint-timeout" min="1000" max="120000" step="1000">
        </div>
      </div>
      <div class="field">
        <button id="btn-test-connection" type="button">Test Connection</button>
        <span id="test-connection-status" class="status"></span>
      </div>
    </section>

    <!-- API Key Section -->
    <section class="section">
      <h2>API Key</h2>
      <div class="field">
        <label for="api-key-input">API Key</label>
        <input type="password" id="api-key-input" placeholder="Enter API key">
      </div>
      <div class="field">
        <span id="api-key-status" class="status">No API key stored</span>
      </div>
      <div class="button-row">
        <button id="btn-save-api-key" type="button">Save API Key</button>
        <button id="btn-delete-api-key" type="button" class="btn-danger">Delete API Key</button>
      </div>
    </section>

    <!-- Audio Section -->
    <section class="section">
      <h2>Audio</h2>
      <div class="field-row">
        <div class="field">
          <label for="audio-format">Format</label>
          <select id="audio-format">
            <option value="mp3">MP3</option>
            <option value="wav">WAV</option>
          </select>
        </div>
        <div class="field">
          <label for="audio-sample-rate">Sample Rate</label>
          <select id="audio-sample-rate">
            <option value="8000">8000 Hz</option>
            <option value="16000">16000 Hz</option>
            <option value="22050">22050 Hz</option>
            <option value="44100">44100 Hz</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Save Section -->
    <section class="section">
      <div class="field">
        <button id="btn-save-settings" type="button" class="btn-primary">Save Settings</button>
        <span id="save-status" class="status"></span>
      </div>
    </section>
  </div>

  <script src="settings-renderer.js"></script>
</body>
</html>
